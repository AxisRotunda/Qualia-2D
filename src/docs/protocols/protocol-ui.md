# [T1] UI Protocol
ID: PROTOCOL_UI_V3.0 | Role: Aesthetic & Interface Synthesis.

## 1. INTENT
This protocol governs the synthesis, audit, and iteration of the Qualia2D view layer (`app.component.html`). It enforces the **Obsidian Glass** design language via strict structural invariants, ensuring aerospace-grade ergonomics and high-density data visibility.

## 2. CONTEXTUAL ANCHORS (THE SOURCE OF TRUTH)
All UI mutations must align with the primary visual documentation:
- **Core Aesthetic**: [aesthetic.md](../visual/aesthetic.md) (Obsidian Glass)
- **Design Tokens**: [tokens.md](../visual/tokens.md) (Colors, Blur, Type)
- **Spatial HUD**: [hud-architecture.md](../visual/hud-architecture.md) (Z-Index, Layout)
- **Motion Physics**: [motion.md](../visual/motion.md) (Transitions, Feedback)

## 3. HARD STRUCTURAL DEFINITIONS (HSD)
These definitions are **Non-Negotiable**. Any UI element generated by an Agent must utilize these Tailwind utility combinations.

### 3.1 HSD_CONTAINER (The Glass Shell)
Used for Drawers, Modals, and Floating Panels.
- **Surface**: `bg-slate-950/60 backdrop-blur-3xl border border-white/10 shadow-2xl`
- **Shape**: `rounded-[2.5rem]` (Hubs) OR `rounded-3xl` (Panels/Cards).
- **Motion**: `transition-transform duration-500 ease-[cubic-bezier(0.2,0,0,1)]`.

### 3.2 HSD_INTERACTION (The Tactile Loop)
Used for Buttons, Toggles, and Triggers.
- **Base**: `transition-all active:scale-90 touch-none`.
- **Hover**: `hover:bg-white/5` OR `hover:text-white`.
- **Active (Boolean)**: `[class.bg-indigo-600]` / `[class.text-white]`.
- **Inactive (Boolean)**: `[class.text-slate-400]`.

### 3.3 HSD_TYPOGRAPHY (The Data Density)
Used for Labels and Values.
- **Label**: `text-[9px] uppercase font-black tracking-widest text-slate-500`.
- **Value**: `font-mono font-bold text-white text-xs` (OR `text-sm` for primary).
- **Header**: `font-sans font-black uppercase tracking-tighter text-xl text-white`.

## 4. LOGIC MATRIX: RUN_UI [TARGET]

### TARGET: `menus` (Navigation & Drawers)
- **Scope**: `src/app.component.html` -> `<nav>`, `<aside>`.
- **Audit Checklist**:
  1. Check `backdrop-blur-3xl` on all drawer containers.
  2. Verify `active:scale-90` on all navigation buttons.
  3. Ensure Z-Index is `z-40` for Nav, `z-50` for Drawers.
  4. Validate `aria-label` or implicit labels for icon-only buttons.

### TARGET: `hud` (Telemetry & Overlays)
- **Scope**: `src/app.component.html` -> Top Telemetry Pill, Contextual Popups.
- **Audit Checklist**:
  1. Position: `top-6 left-1/2 -translate-x-1/2` (Standard).
  2. Font: `JetBrains Mono` for numbers.
  3. Animation: `animate-pulse` for live status indicators.
  4. Contrast: Ensure > 4.5:1 on readout values.

### TARGET: `debug` (Inspector & Logs)
- **Scope**: `src/app.component.html` -> Inspector Panel Content.
- **Audit Checklist**:
  1. Inputs: `bg-transparent` with no default border.
  2. Spacing: Compact `gap-2` grids.
  3. Feedback: Immediate visual response to `(input)` events.

## 5. SKELETAL GUIDELINES (TEMPLATES)

### 5.1 The Property Card
```html
<div class="p-5 bg-white/5 rounded-3xl border border-white/5 space-y-1">
   <label class="block text-[8px] text-slate-500 uppercase font-black tracking-tighter">
      [LABEL_TEXT]
   </label>
   <input type="number" 
     [value]="[SIGNAL_VALUE]()" 
     (input)="[HANDLER]($any($event.target).value)" 
     class="w-full bg-transparent border-none p-0 text-xl font-mono font-bold text-white outline-none focus:ring-0" />
</div>
```

### 5.2 The Action Pill
```html
<button (click)="[ACTION]" 
  class="px-6 h-10 flex items-center gap-2 bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-full hover:bg-white/10 transition-all active:scale-95 group">
  <span class="text-[10px] font-black text-white uppercase tracking-widest group-hover:text-indigo-400 transition-colors">
    [VERB]
  </span>
</button>
```

### 5.3 The Toggle Switch
```html
<button (click)="[TOGGLE_FN]()" 
  class="w-12 h-6 rounded-full border border-white/10 relative transition-colors"
  [class.bg-indigo-600]="[SIGNAL]()" 
  [class.bg-slate-900]="![SIGNAL]()">
  <div class="absolute top-0.5 left-0.5 w-4.5 h-4.5 rounded-full bg-white shadow-sm transition-transform duration-300"
    [class.translate-x-6]="[SIGNAL]()"
    [class.translate-x-0]="![SIGNAL]()">
  </div>
</button>
```

## 6. SAFEGUARDS
- **Obscuration Limit**: Viewport must remain >40% visible at all times.
- **Input Sanitization**: All `<input>` types must handle `NaN` or non-numeric strings gracefully via component logic, not template expressions.
- **No Regex**: Template bindings must NOT use Regex. Move logic to component TS.